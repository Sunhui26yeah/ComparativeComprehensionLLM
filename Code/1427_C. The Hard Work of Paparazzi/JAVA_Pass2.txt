/*
Written by Kabir Kanha Arora
@kabirkanha
 */
 
import java.util.*;
import java.io.OutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.PrintWriter;
import java.util.Arrays;
import java.util.StringTokenizer;
import java.io.IOException;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.InputStream;
public class Main {
 
    public static void main(String[] args) {
 
        FastScanner scanner = new FastScanner();
        int r = scanner.nextInt();
        int n = scanner.nextInt();
        int max = 0;
        int[] time = new int[n];
        int[] xCoord = new int[n];
        int[] yCoord = new int[n];
        for (int i = 0; i < n; ++i) {
            time[i] = scanner.nextInt();
            xCoord[i] = scanner.nextInt();
            yCoord[i] = scanner.nextInt();
        }
 
        int[] dp = new int[n];
        int[] maxSoFar = new int[n];
        for (int i = 0; i < n; ++i) {
        	dp[i] = maxSoFar[i] = -1000001;
        }
        for (int i = 0; i < n; ++i) {
        	int xi = xCoord[i], yi = yCoord[i], ti = time[i];
            for (int j = i - 1; j >= 0 && j >= i - 2*r; --j) {
            	int xj = xCoord[j];
            	int yj = yCoord[j];
            	int dist = xi > xj ? xi - xj : xj - xi;
            	dist += yi > yj ? yi - yj : yj - yi;
                if (ti - time[j] >= dist) {
                	int vj = dp[j], vi = dp[i];
                    dp[i] = vi < vj+1 ? vj+1 : vi;
                }
            }
            int vi = dp[i];
            dp[i] = (xi-1+yi-1<=ti && vi < 1) ? 1 : vi;
            vi = dp[i];
            int msf = i-2*r-1 > 0 ? maxSoFar[i-2*r-1] : -1000001;
            dp[i] = i-2*r > 0 && msf+1 > vi ? msf+1 : vi;
            maxSoFar[i] = i > 0 && maxSoFar[i-1] > dp[i] ? maxSoFar[i-1] : dp[i];
            max = max < dp[i] ? dp[i] : max;
        }
        System.out.println(max);
    }
    static class FastScanner {
    	BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
    	StringTokenizer st=new StringTokenizer("");
    	String next() {
    		while (!st.hasMoreTokens())
    			try {
    				st=new StringTokenizer(br.readLine());
    			} catch (IOException e) {
    				e.printStackTrace();
    			}
    		return st.nextToken();
    	}
    	
    	int nextInt() {
    		return Integer.parseInt(next());
    	}
    	int[] readArray(int n) {
    		int[] a=new int[n];
    		for (int i=0; i<n; i++) a[i]=nextInt();
    		return a;
    	}
    	long nextLong() {
    		return Long.parseLong(next());
    	}
    }
}