#include <bits/stdc++.h>
using namespace std;
mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());
inline long long rand(long long x, long long y) {
  return rng() % (y + 1 - x) + x;
}
string inline to_string(char c) {
  string second(1, c);
  return second;
}
template <typename T>
inline T gcd(T a, T b) {
  return a == 0 ? llabs(b) : gcd(b % a, a);
}
using ll = long long;
using ld = long double;
using pi = pair<ll, ll>;
using spi = pair<ll, pi>;
using dpi = pair<pi, pi>;
ll r, n, dp[(100006)];
vector<pi> A;
vector<ll> T;
int main() {
  ios_base::sync_with_stdio(false);
  cin.tie(0);
  cin >> r >> n;
  for (ll i = 1; i <= ll(n); ++i) {
    ll t, x, y;
    cin >> t >> x >> y;
    if (t < x + y - 2) {
      continue;
    }
    A.emplace_back(x, y);
    T.emplace_back(t);
  }
  n = ll(A.size());
  for (ll i = 0; i <= ll(n - 1); ++i) {
    dp[i] = 1;
    for (ll j = max(0ll, i - 2005); j <= ll(i - 1); ++j)
      if (abs(A[i].first - A[j].first) + abs(A[i].second - A[j].second) <=
          T[i] - T[j]) {
        dp[i] = max(dp[i], dp[j] + 1);
      }
  }
  cout << *max_element(dp, dp + n) << '\n';
}