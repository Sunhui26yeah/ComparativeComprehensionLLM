import java.io.*;
import java.util.Arrays;
import java.util.StringTokenizer;


public class C {

    private static StringTokenizer st;
    private static BufferedReader br;
    private static PrintWriter out;

    public static void main(String[] args) throws IOException {
        br = new BufferedReader(new InputStreamReader(System.in));
        out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));

        int t = 1;

        for (int test = 1; test <= t; test++) {
            solve(test);
        }
        out.close();
    }

    private static void solve(int testCase) throws IOException {
        int r = nextInt();
        int n = nextInt();
        int[]t = new int[n+1], x = new int[n+1], y = new int[n+1];
        for (int i = 1; i <= n; i++) {
            t[i] = nextInt();
            x[i] = nextInt();
            y[i] = nextInt();
        }
        t[0] = 0;
        x[0] = y[0] = 1;
        int[]dp = new int[n+1];
        int[]max = new int[n+1];
        int INF = (int)1e9;
        Arrays.fill(dp, -INF);
        dp[0] = 0;
        for (int i = 1; i <= n; i++) {
            for (int j = i-1; j >= 0; j--) {
                if (t[i] - t[j] > 1000) {
                    dp[i] = Math.max(dp[i], max[j] + 1);
                    break;
                }
                if (Math.abs(x[i]-x[j]) + Math.abs(y[i]-y[j]) <= t[i]-t[j]) {
                    dp[i] = Math.max(dp[i], dp[j] + 1);
                }
            }
            max[i] = Math.max(max[i-1], dp[i]);
        }

        System.out.println(max[n]);
    }

    private static int nextInt() throws IOException {
        return Integer.parseInt(next());
    }

    private static long nextLong() throws IOException {
        return Long.parseLong(next());
    }

    private static double nextDouble() throws IOException {
        return Double.parseDouble(next());
    }

    private static String next() throws IOException {
        while (st==null || !st.hasMoreTokens())
            st = new StringTokenizer(br.readLine());
        return st.nextToken();
    }

}