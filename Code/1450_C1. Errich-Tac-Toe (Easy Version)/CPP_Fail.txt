#include <bits/stdc++.h>
using namespace std;
int n;
char s[305][305], t[305][305];
bool row(int x, int y) {
  return y - 2 >= 1 && s[x][y - 2] == s[x][y - 1] && s[x][y - 1] == s[x][y] ||
         y + 1 <= n && y - 1 >= 1 && s[x][y - 1] == s[x][y] &&
             s[x][y] == s[x][y + 1] ||
         y + 2 <= n && s[x][y] == s[x][y + 1] && s[x][y + 1] == s[x][y + 2];
}
bool col(int y, int x) {
  return y - 2 >= 1 && s[y - 2][x] == s[y - 1][x] && s[y - 1][x] == s[y][x] ||
         y + 1 <= n && y - 1 >= 1 && s[y - 1][x] == s[y][x] &&
             s[y][x] == s[y + 1][x] ||
         y + 2 <= n && s[y][x] == s[y + 1][x] && s[y + 1][x] == s[y + 2][x];
}
int main() {
  int T;
  cin >> T;
  while (T--) {
    cin >> n;
    for (int i = 1; i <= n; i++)
      for (int j = 1; j <= n; j++) {
        cin >> s[i][j];
        t[i][j] = s[i][j];
      }
    for (int i = 1; i <= n; i++)
      for (int j = 1; j <= n; j++)
        if ((i + j) % 3 == 0 && (row(i, j) || col(i, j)))
          s[i][j] = 'X' + 'O' - s[i][j];
    for (int i = 1; i <= n; i++) {
      for (int j = 1; j <= n; j++) cout << s[i][j];
      cout << endl;
    }
  }
  return 0;
}