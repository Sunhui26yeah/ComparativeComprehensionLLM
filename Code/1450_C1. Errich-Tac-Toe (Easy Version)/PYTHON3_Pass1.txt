t=int(input())

for _ in range(t):
    n=int(input())
    r=[];b=[];c=[];k=0
    for i in range(n):
        s=str(input())
        r.append(list(s))
        b.append(list(s))
        c.append(list(s))
        k+=s.count("X")

    total=0
    for i in range(n):
        m=(i+1)%3
        
        for j in range(n):
            if m==0 and r[j][i]=="X":
                r[j][i]="O"
                total+=1
            m+=1
            m=m%3
            
    if total<=k//3:
        for i in range(n):
            for j in range(n):
                print(r[i][j],end="")
            print()
    else:
        total=0
        for i in range(n):
            m=(i+2)%3
            
            for j in range(n):
                if m==0 and b[j][i]=="X":
                    b[j][i]="O"
                    total+=1
                m+=1
                m=m%3

        if total<=k//3:
            for i in range(n):
                for j in range(n):
                    print(b[i][j],end="")
                print()
        else:
            total=0
            for i in range(n):
                m=(i)%3
                
                for j in range(n):
                    if m==0 and c[j][i]=="X":
                        c[j][i]="O"
                        total+=1
                    m+=1
                    m=m%3
            for i in range(n):
                for j in range(n):
                    print(c[i][j],end="")
                print()