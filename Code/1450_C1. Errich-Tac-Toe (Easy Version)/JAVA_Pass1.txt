import java.io.*;
import java.util.*;

public class Main {
	static BufferedReader br;
	static PrintWriter pr;
	static int cin() throws Exception
	{
		return Integer.valueOf(br.readLine());
	}
	static int[] split() throws Exception
	{
		String[] cmd=br.readLine().split(" ");
		int[] ans=new int[cmd.length];
		for(int i=0;i<cmd.length;i++)
		{
			ans[i]=Integer.valueOf(cmd[i]);
		}
		return ans;
	}
	static long[] splitL() throws IOException
	{
		String[] cmd=br.readLine().split(" ");
		long[] ans=new long[cmd.length];
		for(int i=0;i<cmd.length;i++)
		{
			ans[i]=Long.valueOf(cmd[i]);
		}
		return ans;
	}
	static int sum(long n)
	{
		int ans=0;
		while(n!=0)
		{
			ans=ans+(int)(n%10);
			n=n/10;
		}
		return ans;
	}
	static long gcd(long x,long y)
	{
		if(x==0)
			return y;
		if(y==0)
			return x;
		if(x>y)
			return gcd(x%y,y);
		else
			return gcd(x,y%x);
	}
	public static void main(String[] args) throws Exception{
		// TODO Auto-generated method stub 
		br=new BufferedReader(new InputStreamReader(System.in));
		pr=new PrintWriter(new OutputStreamWriter(System.out));
		int cases=cin();
		while(cases!=0)
		{
			cases--;
			int n=cin();
			char[][]ch=new char[n][n];
			for(int i=0;i<n;i++)
			{
				ch[i]=br.readLine().toCharArray();
			}
			int[][]col=new int[n][n];
			char[][]ans=new char[n][n];
			int x=0;
			for(int i=0;i<n;i++)
			{
				for(int j=0;j<n;j++)
				{
					if(ch[i][j]=='X')
						x++;
					col[i][j]=(i+j)%3;
				}
			}
			for(int i=0;i<3;i++)
			{
				int cnt=0;
				char[][]temp=new char[n][n];
				for(int j=0;j<n;j++)
				{
					for(int k=0;k<n;k++)
					{
						temp[j][k]=ch[j][k];
					}
				}
				for(int j=0;j<n;j++)
				{
					for(int k=0;k<n;k++)
					{
						if(col[j][k]==i && ch[j][k]=='X')
						{
							cnt++;
							temp[j][k]='O';
						}
					}
				}
				if(cnt<=(x/3))
				{
					ans=temp;
					break;
				}
			}
			for(int i=0;i<n;i++)
			{
				for(int j=0;j<n;j++)
				{
					System.out.print(ans[i][j]);
				}
				System.out.println();
			}
		}
	}
}