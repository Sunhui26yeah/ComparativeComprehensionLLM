n = int(input())
a = [int(x) for x in input().split()]
i = 0
j = n-1
prev = -1
ans = []
while(i<=j):
    if a[i]<a[j]:
        if a[i]>prev:
            ans += 'L'
            prev = a[i]
            i += 1
        elif a[j]>prev:
            ans += 'R'
            prev = a[j]
            j -= 1
        else:
            break
    elif a[i]>a[j]:
        if a[j]>prev:
            ans += 'R'
            prev = a[j]
            j -= 1
        elif a[i]>prev:
            ans += 'L'
            prev = a[i]
            i += 1
        else:
            break
    elif a[i]>prev:
        l = 0
        for p in range(i+1, j):
            if a[p]>a[p-1]:
                l += 1
            else:
                break
        r = 0
        for p in range(j-1, i, -1):
            if a[p]>a[p+1]:
                r += 1
            else:
                break
        if r>l:
            ans += 'R'
            prev = a[j]
            j -= 1
        else:
            ans += 'L'
            prev = a[i]
            i += 1
    else:
        break
print(len(ans))
print(*ans, sep = "")