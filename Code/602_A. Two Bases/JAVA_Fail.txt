import java.util.*;
import java.math.*;
public class TwoBases2 {
	public static void main(String [] args){
		Scanner input=new Scanner(System.in);
		int n=input.nextInt();
		int bx =input.nextInt();
		String sx="";
		for(int i=0;i<n;i++)
			sx=sx+input.next();
		sx=sx.replaceAll(" ","");
		BigInteger x=new BigInteger(sx,bx);
		String resultx=x.toString(8);

		int m=input.nextInt();
		int by = input.nextInt();
		String sy="";
		for(int i=0;i<m;i++)
			sy=sy+input.next();
		sy=sy.replaceAll(" ","");
		BigInteger y=new BigInteger(sy,by);
		String resulty=y.toString(8);
		
		
		if(resultx.compareTo(resulty)>0)
			System.out.println(">");
		else if(resultx.compareTo(resulty)<0)
			System.out.println("<");
		else
			System.out.println("=");
		
	}
}