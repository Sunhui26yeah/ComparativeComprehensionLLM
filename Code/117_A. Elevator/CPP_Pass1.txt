#include <bits/stdc++.h>
using namespace std;
int n, m;
int main() {
  scanf("%d%d", &n, &m);
  for (int(i) = 0; (i) < (n); ++(i)) {
    int st, fn, t;
    scanf("%d%d%d", &st, &fn, &t);
    --st;
    --fn;
    int eps = t / (2 * (m - 1)) * (2 * (m - 1));
    if (st == fn) {
      printf("%d\n", t);
      continue;
    }
    if (st < fn) {
      if (t <= eps + st)
        printf("%d\n", eps + fn);
      else
        printf("%d\n", eps + 2 * (m - 1) + fn);
    } else {
      swap(st, fn);
      if (t <= eps + m - 1 + m - 1 - fn)
        printf("%d\n", eps + m - 1 + m - 1 - st);
      else
        printf("%d\n", eps + 2 * (m - 1) + m - 1 + m - 1 - st);
    }
  }
}