#include <bits/stdc++.h>
using namespace std;
long long gcd(long long a, long long b) { return b ? gcd(b, a % b) : a; }
long long lcm(long long a, long long b) { return a / gcd(a, b) * b; }
long long powmod(long long a, long long b, long long MOD) {
  if (a == 0ll) {
    return 0ll;
  }
  a %= MOD;
  long long ans = 1;
  while (b) {
    if (b & 1) {
      ans = ans * a % MOD;
    }
    a = a * a % MOD;
    b >>= 1;
  }
  return ans;
}
long long poww(long long a, long long b) {
  if (a == 0ll) {
    return 0ll;
  }
  long long ans = 1;
  while (b) {
    if (b & 1) {
      ans = ans * a;
    }
    a = a * a;
    b >>= 1;
  }
  return ans;
}
void Pv(const vector<int> &V) {
  int Len = int(V.size());
  for (int i = 0; i < Len; ++i) {
    printf("%d", V[i]);
    if (i != Len - 1) {
      printf(" ");
    } else {
      printf("\n");
    }
  }
}
void Pvl(const vector<long long> &V) {
  int Len = int(V.size());
  for (int i = 0; i < Len; ++i) {
    printf("%lld", V[i]);
    if (i != Len - 1) {
      printf(" ");
    } else {
      printf("\n");
    }
  }
}
inline long long readll() {
  long long tmp = 0, fh = 1;
  char c = getchar();
  while (c < '0' || c > '9') {
    if (c == '-') fh = -1;
    c = getchar();
  }
  while (c >= '0' && c <= '9') tmp = tmp * 10 + c - 48, c = getchar();
  return tmp * fh;
}
inline int readint() {
  int tmp = 0, fh = 1;
  char c = getchar();
  while (c < '0' || c > '9') {
    if (c == '-') fh = -1;
    c = getchar();
  }
  while (c >= '0' && c <= '9') tmp = tmp * 10 + c - 48, c = getchar();
  return tmp * fh;
}
const int maxn = 1000010;
const int inf = 0x3f3f3f3f;
long long c[maxn];
int n, m;
std::vector<int> v[maxn];
map<vector<int>, long long> hs;
int main() {
  int t;
  t = readint();
  while (t--) {
    n = readint();
    m = readint();
    for (int i = 1; i <= n; i++) {
      c[i] = readll();
    }
    for (int i = 1; i <= m; i++) {
      int a = readint();
      int b = readint();
      v[b].push_back(a);
    }
    for (int i = 1; i <= n; i++) {
      if (int(v[i].size())) {
        sort((v[i]).begin(), (v[i]).end());
        hs[v[i]] += c[i];
      }
    }
    long long ans = 0ll;
    for (auto &temp : hs) {
      ans = gcd(ans, temp.second);
    }
    printf("%lld\n", ans);
    for (int i = 1; i <= n; i++) {
      v[i].clear();
    }
    hs.clear();
  }
  return 0;
}