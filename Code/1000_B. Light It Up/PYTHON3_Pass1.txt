n,m = map(int,input().split())
aprogram=[0]+list(map(int,input().split()))+[m]
interval=[]
total=0
a=0

sumbrightbefore=[0 for i in range(n+1)]
sumdimafter=[0 for i in range(n+1)]

for i in range(1,len(aprogram)): 
    interval+=[aprogram[i]-aprogram[i-1]]
    
    
    
for i in range(2,len(interval),2):
    sumbrightbefore[i]=sumbrightbefore[i-2]+interval[i-2]
for i in range(1,len(interval),2):
    sumbrightbefore[i]=sumbrightbefore[i-1]+interval[i-1]

if len(interval)%2==0:
    for i in range(len(interval)-3,-1,-2):
        sumdimafter[i]=sumdimafter[i+2]+interval[i+2]
    for i in range(len(interval)-2,-1,-2):
        sumdimafter[i]=sumdimafter[i+1]+interval[i+1]
else:
    for i in range(len(interval)-3,-1,-2):
        sumdimafter[i]=sumdimafter[i+2]+interval[i+1]
    for i in range(len(interval)-4,-1,-2):
        sumdimafter[i]=sumdimafter[i+1]


total=sum(interval[::2])
 
for i in range(0,len(interval)):
    if interval[i]!=1:
        a=sumbrightbefore[i]+sumdimafter[i]+interval[i]-1
    if a>total:
        total=a
print(total)