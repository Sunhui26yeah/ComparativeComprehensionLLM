def main():
	(n, m) = (int(x) for x in input().split())
	L = [None] * m
	for i in range(m):
		(x, y) = (int(x) for x in input().split())
		L[i] = (x, y)
	print(solver(n, L))

def solver(n, L):
	used = [False] * (n + 1)
	div1 = set()
	div2 = set()
	#div1Min = n + 1
	#div2Max = 0
	for (x, y) in L:
		a = max(x, y)
		b = min(x, y)
		if a in div2 or b in div1:
			return 0
		div1.add(a)
		div2.add(b)
		used[a] = True
		used[b] = True
	print(used)
	count = len([b for b in used[1:] if b == False])
	return count + 1
		#if a < div1Min:
		#	div1Min 

main()
#L = [(1, 4), (5, 2)]
#print(solver(5, L))

#L2 = [(1, 2), (2, 3), (1, 3)]
#print(solver(3, L2))

#L3 = [(3, 1), (3, 2)]
#print(solver(3, L3))
# used = [False, True, True, True]
# a = [b for b in used if b == True]
# print(a)