import java.io.IOException;
import java.io.PrintWriter;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.StreamTokenizer;
import java.util.*;

public class kvati {

    public static void main(String[] args) throws IOException {
        BufferedReader rd = new BufferedReader(new InputStreamReader(System.in));
        PrintWriter pw = new PrintWriter(System.out, true);
        new kvati().run(rd, pw);
    }

    public void run(BufferedReader rd, PrintWriter pw) throws IOException {
        StringTokenizer st = new StringTokenizer(rd.readLine());

        int n = Integer.parseInt(st.nextToken());
        int[] a = new int[n + 1];
        int[] f = new int[1010101];
        int[] count = new int[n + 1];
        HashMap<Integer, Integer> cnt = new HashMap<Integer, Integer>();

        st = new StringTokenizer(rd.readLine());
        for (int i = 1; i <= n; i++) {
            a[i] = Integer.parseInt(st.nextToken());
            if (cnt.containsKey(a[i]))
                cnt.put(a[i], cnt.get(a[i]) + 1);
            else
                cnt.put(a[i], 1);

            int x = cnt.get(a[i]);
            add(x, 1, f);
            // pw.println(a[i] + " " + get(cnt.get(a[i]), f));
            count[i] = x;
        }

//       for (Map.Entry<Integer, Integer> item: cnt.entrySet()){
//           pw.println(item.getKey() + " " + item.getValue());
//       }

        cnt.clear();

        long ans = 0;
        for (int i = n; i > 1; i--) {
            if (cnt.containsKey(a[i]))
                cnt.put(a[i], cnt.get(a[i]) + 1);
            else
                cnt.put(a[i], 1);

            int x = count[i];
            int y = cnt.get(a[i]);
            add(x, -1, f);

            ans += get(1000000, f) - get(y, f);
        }
        pw.println(ans);
    }

    public void add(int x, int val, int[] f) {
        for (int i = x; i < f.length; i += (i & -i))
            f[i] += val;
    }

    public int get(int x, int[] f) {
        int res = 0;
        for (int i = x; i > 0; i -= (i & -i))
            res += f[i];
        return res;
    }

}