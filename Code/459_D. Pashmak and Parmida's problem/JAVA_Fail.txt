import java.io.*;
import java.util.*;
import java.math.*;
import static java.lang.Math.*;
import static java.lang.Integer.parseInt;
import static java.lang.Long.parseLong;
import static java.lang.Double.parseDouble;
import static java.lang.String.*;

public class Main {
    
    public static void main(String[] args) throws IOException {
        BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
        StringBuilder out = new StringBuilder();
        StringTokenizer tk;
        
        int n = parseInt(in.readLine());
        int [] a = new int[n];
        tk = new StringTokenizer(in.readLine());
        for(int i=0; i<n; i++)
            a[i] = parseInt(tk.nextToken());
        
        int [] fl = new int[n];
        int [] fr = new int[n];

        Map<Integer,Integer> m = new HashMap<>();
        for(int i=0; i<n; i++) {
            if(!m.containsKey(a[i]))
                m.put(a[i], 0);
            fl[i] = m.get(a[i])+1;
            m.put(a[i], fl[i]);
        }
        
        m.clear();
        for(int i=n-1; i>=0; i--) {
            if(!m.containsKey(a[i]))
                m.put(a[i], 0);
            fr[i] = m.get(a[i])+1;
            m.put(a[i], fr[i]);
        }
        /*
        for(int i=0; i<n; i++)
            System.out.print(fl[i]+" ");
        System.out.println("");
        for(int i=0; i<n; i++)
            System.out.print(fr[i]+" ");
        System.out.println("");
        */
        long ans = 0;
        for(int i=0; i<n; i++) {
            int l=i,r=n-1,mm,x = -1;
            
            while(l <= r) {
                mm = (l+r)/2;
                
                if(fr[mm] < fl[i]) {
                    if(mm > i) x = mm;
                    r = mm-1;
                } else l = mm+1;
            }
            
            if(x != -1)
                 ans += (long)(n-x);
        }
        
        System.out.println(ans);
    }
    
}