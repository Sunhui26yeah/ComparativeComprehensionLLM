from collections import deque
n,k = map(int,input().split())
d = {}
for i in range(n):
    d[i+1] = set()
for i in range(n-1):
    u,v = map(int,input().split())
    d[u].add(v)
    d[v].add(u)
dist = {}
prev = {}
dist[1] = 0
q = deque()
q.append(1)
while len(q) >0:
    cur =  q.popleft()
    for x in d[cur]:
        if x not in dist:
            prev[x] = cur
            dist[x] = dist[cur]+1
            q.append(x)
answer = True
if k > dist[cur]:
    answer = False
else:
    for i in range(k):
        cur = prev[cur]
    dist2 = {}
    dist2[cur] = 0
    q = deque()
    q.append(cur)
    while len(q) >0:
        cur2 =  q.popleft()
        if cur2 == cur and len(d[cur]) < 3:
            answer = False
            break
        if len(d[cur2]) == 1:
            if dist2[cur2] != k:
                answer = False
                break
        elif len(d[cur2]) < 4 and cur2 != cur:
            answer = False
            break
        for x in d[cur2]:
            if x not in dist2:
                dist2[x] = dist2[cur2]+1
                q.append(x)
if answer:
    print("Yes")
else:
    print("No")