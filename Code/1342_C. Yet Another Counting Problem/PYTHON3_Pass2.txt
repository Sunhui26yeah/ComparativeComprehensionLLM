# Contest No.: Edu 86
# Problem No.: C
# Solver:      JEMINI
# Date:        20200426
 
import sys
 
def gcd(a: int, b: int) -> int:
    if a < b:
        a, b = b, a
    if b == 0:
        return a
    else:
        return gcd(b, a % b)
 
def main():
    t = int(input())
    for _ in range(t):
        a, b, q = map(int, sys.stdin.readline().split())
        flag = None
        modVal = None
        if a == 1 or b == 1 or a == b:
            flag = 0
        elif max(a, b) % min(a, b) == 0:
            flag = 0
            modVal = min(a, b)
        else:
            flag = 2
            modVal = a * b // gcd(a, b)
            checkList = [0] * modVal
            loopSum = 0
            for i in range(modVal):
                if ((i % a) % b) != ((i % b) % a):
                    loopSum += 1
                checkList[i] = loopSum
        
        for i in range(q):
            x, y = map(int, sys.stdin.readline().split())
            if flag == 0:
                print(0, end = " ")
            elif flag == 1:
                ans = y - x + 1
                ans = ans - y // modVal + x // modVal
                if not x % modVal:
                    ans -= 1
                print(ans, end = " ")
            else:
                def calcSum(n: int) -> int:
                    return checkList[-1] * (n // modVal) + checkList[n % modVal]
                ans = calcSum(y) - calcSum(x - 1)
                print(ans, end = " ")
        print("")
    return
 
if __name__ == "__main__":
    main()